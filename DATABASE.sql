USE master
GO
DROP DATABASE QUANLY_COFFE
GO
CREATE DATABASE QUANLY_COFFE
GO
USE QUANLY_COFFE
GO

CREATE TABLE NHANVIEN
(
	ID INT IDENTITY PRIMARY KEY,
	HOTEN	NVARCHAR(50),
	SDT	NVARCHAR(50),
	NAMSINH	INT,
	DIACHI	NVARCHAR(50),
	TKNGANHANG	NVARCHAR(50)
	
)


CREATE TABLE TAIKHOAN
(
	TK	NVARCHAR(30) PRIMARY KEY,
	ID INT ,
	MK	NVARCHAR(30),
	QUYEN	NVARCHAR(50),
	FOREIGN KEY (ID)  REFERENCES NHANVIEN(ID)
)


GO



CREATE TABLE LOAISP
(
	MALOAI VARCHAR(30) PRIMARY KEY,
	TENLOAI NVARCHAR(50),
)									 
									 
GO									 
									 
CREATE TABLE SANPHAM				 
(									 
	MASP	VARCHAR(30) PRIMARY KEY,						 
	TENSP	NVARCHAR(50),						 
	MALOAI	VARCHAR(30),						 				 
	NHASX	NVARCHAR(30),						 
	GIAMUA	INT,						 
	GIABAN	INT,
	FOREIGN KEY (MALOAI)  REFERENCES LOAISP(MALOAI)
)									 
									 
GO									 
									 

CREATE TABLE KHUVUC
(
	MAKV VARCHAR(30) PRIMARY KEY,
	TENKV NVARCHAR(50),
	
)
GO
CREATE TABLE BAN
(	
	STT	INT IDENTITY  PRIMARY KEY ,
	MABAN VARCHAR(30),
	TENBAN NVARCHAR(50),
	MAKV VARCHAR(30),
	FOREIGN KEY (MAKV)  REFERENCES KHUVUC(MAKV)
)

GO

CREATE TABLE HOADON	 	 			 
(									 
	MAHD	INT IDENTITY  PRIMARY KEY,	
	MABAN   VARCHAR(30),
	MAKV    VARCHAR(30),
	TK	NVARCHAR(30),
	NGAYLAP	DATETIME,	 
	TRANGTHAI NVARCHAR(30),
	FOREIGN KEY (MAKV)  REFERENCES KHUVUC(MAKV),
	FOREIGN KEY (TK)  REFERENCES TAIKHOAN(TK),
)

GO
CREATE TABLE CHITIETHOADON		
(
	STT	INT IDENTITY  PRIMARY KEY ,
	MASP		VARCHAR(30),
	MAHD		INT,
	SOLUONG		INT,
	DONVI NVARCHAR(20),
	FOREIGN KEY (MASP)  REFERENCES SANPHAM(MASP),
	FOREIGN KEY (MAHD)  REFERENCES HOADON(MAHD)
)
GO

INSERT NHANVIEN VALUES (N'Phan Hữu Sang',0384267444,2000,N'KTX Khu B',1325646585)
INSERT NHANVIEN VALUES (N'Ung Chấn Vinh',03842565644,2000,N'KTX Khu B',132564656585)
INSERT NHANVIEN VALUES (N'Võ Anh Thuận',0395864274,2000,N'KTX Khu B',132562685)

INSERT TAIKHOAN VALUES ('admin',1,'123',N'Quản Lý')
INSERT TAIKHOAN VALUES ('nv1',2,'456',N'Nhân Viên')
INSERT TAIKHOAN VALUES ('nv2',3,'789',N'Nhân Viên')


INSERT LOAISP VALUES ('01',N'Cafe')
INSERT LOAISP VALUES ('02',N'Nước Ngọt')
INSERT LOAISP VALUES ('03',N'Bánh')
INSERT LOAISP VALUES ('04',N'Trà Sữa')
INSERT LOAISP VALUES ('05','')

INSERT SANPHAM VALUES ('01',N'Cà Phê Đá','01',N'Trung Nguyên',10000,15000)
INSERT SANPHAM VALUES ('02',N'Cà Phê Sữa','01',N'Trung Nguyên',10000,15000)
INSERT SANPHAM VALUES ('03',N'Cà Phê Đen','01',N'Trung Nguyên',10000,15000)

INSERT SANPHAM VALUES ('04',N'CoCa','02',N'CoCaCoLa',10000,15000)
INSERT SANPHAM VALUES ('05',N'PepSi','02',N'PepSi',10000,15000)
INSERT SANPHAM VALUES ('06',N'7 Up','02',N'CoCa',10000,15000)

INSERT SANPHAM VALUES ('07',N'Bánh mì','03',N'Quầy',10000,15000)
INSERT SANPHAM VALUES ('08',N'Bánh Cuốn','03','Quầy',10000,15000)
INSERT SANPHAM VALUES ('09',N'Bánh Bao','03',N'Quầy',10000,20000)

INSERT SANPHAM VALUES ('010',N'Trà Sữa Hạt Me','04',N'Sữa Chó',15000,25000)
INSERT SANPHAM VALUES ('011',N'Trà Sữa Chân Châu','04',N'Sữa Bò',12000,25000)
INSERT SANPHAM VALUES ('012',N'Trà Sữa Hạt É','04',N'Sữa Heo',15000,20000)
set dateformat dmy 

